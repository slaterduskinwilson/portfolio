
<div class="playlist">
    <h3 class="playlist-heading">Playlist:</h3>
    
    <div class="playlist-content">

<% songs.forEach( (song, index) => { %>

    <div id="<%= song.cloudFileName %>" class="playlist-row">
    <h3 class="playlist-field playlist-title" data-type="title" data-modify="<%= song.title %>"><%=`${index + 1}. ${song.title}`%> </h3> 
    <h6 class="playlist-field playlist-superhero" data-type="superhero" data-modify="<%= song.superhero%>"><%= song.superhero %> </h6> 
    <h6 class="playlist-field playlist-planet" data-type="planet" data-modify="<%= song.planet %>"><%= song.planet %> </h6> 
    <h6 class="playlist-field playlist-beatle" data-type="beatle" data-modify="<%= song.beatle %>"><%= song.beatle %> </h6> 
    <h6 class="playlist-field playlist-artifact" data-type="artifact" data-modify="<%= song.artifact %>"><%= song.artifact %> </h6> 
  
    <br>

    <!-- below, we have a delete form. It sends the cloudFileName of the song in question via a hidden input -->
        <form action="/delete" method="post">
            <div class="areyousure hidden">
                <h1>ARE YOU SURE YOU WANT TO DELETE <%= song.title %>?! </h1>
                <button class="reallydelete" type="submit" >Really Delete!</button>
               
                <button class="changedmymind" type="button" onclick="changedMyMind(this)">Nope, Changed My Mind</button>
            </div>
           
            <input type="hidden" name="delete" value="<%= song.cloudFileName %>">
            <button class="deletethistrack" type="button" onclick="areYouSure(this)">Delete</button>
                
        </form>
     
    
    
    
    <button class="playthistrack"  id="<%= song.cloudFileName%>" data-index='<%= index %>' onclick="loadAndPlayTrack(dataset.index)">Play This Track</button>
    <!-- when we click this button, we want the playerscript to load the music file as the source of our single audio element, so we can play it -->
    
    <!-- note: we're pulling the loadTrack(trackindex) function from our playerscript.ejs file! No need to define it separately in playlist.ejs-->
   
</div>
    <% }) %>
</div>
</div>
    